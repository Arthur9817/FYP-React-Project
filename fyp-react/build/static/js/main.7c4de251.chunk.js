(this["webpackJsonpfyp-react"]=this["webpackJsonpfyp-react"]||[]).push([[0],{293:function(e,t,a){e.exports=a(494)},387:function(e,t,a){e.exports=a.p+"static/media/login_logos.9bf25c8f.png"},493:function(e,t,a){e.exports=a.p+"static/media/logos.61bba9fe.png"},494:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(47),r=a.n(i),s=a(42),o=(a(298),a(17)),c=a(18),m=a(21),u=a(19),d=a(27),h=a(20),p=a(60),g=a(173),E=a.n(g);a(299),a(301),a(303);E.a.initializeApp({apiKey:"AIzaSyAf1q4d9lcnRxJe1LT1ym71nHmzpjGbets",authDomain:"fyp-mnd-dataset.firebaseapp.com",databaseURL:"https://fyp-mnd-dataset.firebaseio.com",projectId:"fyp-mnd-dataset",storageBucket:"fyp-mnd-dataset.appspot.com",messagingSenderId:"719165642718",appId:"1:719165642718:web:220845034f21945147ef4f",measurementId:"G-3JV7X0GCMB"});var b=E.a,f=a(255),S=a(40),v=a.n(S),y=a(504),C=a(282),w=a(179),R=a(510),_=a(518),A=a(511),k=a(50),I=a(505),L=a(495),O=a(516),F=(a(89),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={openModal:!1},a.openModal=function(){return a.setState({openModal:!0})},a.login=a.login.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.sendResetEmail=a.sendResetEmail.bind(Object(d.a)(a)),a.state={email:"",password:"",message:"",message2:"",messageColor:"red",passwordReset:"",hideMessage:!0,hideResetMessage:!0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"sendResetEmail",value:function(e){var t=this;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(b.auth().sendPasswordResetEmail(e));case 3:this.setState({message:"Password reset email sent. Please follow the instruction in the email to proceed.",messageColor:"green",hideMessage:!1,openModal:!1,hideResetMessage:!0,passwordReset:""}),this.timeout=setTimeout((function(){t.setState({hideMessage:!0})}),5e3),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),this.setState({message2:a.t0.message,messageColor:"red",hideResetMessage:!1});case 10:case"end":return a.stop()}}),null,this,[[0,7]])}},{key:"login",value:function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,v.a.awrap(b.auth().signInWithEmailAndPassword(this.state.email,this.state.password));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),this.setState({message:t.t0.message,messageColor:"red",hideMessage:!1});case 9:case"end":return t.stop()}}),null,this,[[1,6]])}},{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this,t=this.state.openModal;return l.a.createElement(y.a,null,l.a.createElement("br",null),l.a.createElement(y.a,{style:{marginTop:150}},l.a.createElement(y.a,{style:{width:300}},l.a.createElement(C.a,{src:a(387),alt:"Logo"}),l.a.createElement(w.a,{placeholder:!0,padded:!0},l.a.createElement(R.a,{onSubmit:this.login},l.a.createElement(_.a,{textAlign:"center"},"Login"),l.a.createElement(R.a.Input,{icon:"user",iconPosition:"left",label:"Email",name:"email",type:"email",onChange:this.handleChange}),l.a.createElement(R.a.Input,{icon:"lock",iconPosition:"left",label:"Password",name:"password",type:"password",onChange:this.handleChange}),l.a.createElement(A.a,{style:{textAlign:"center"},open:t,size:"mini",trigger:l.a.createElement("h4",{style:{textAlign:"center",marginTop:0,marginBottom:20},onClick:this.openModal},l.a.createElement("a",{href:"#password"},l.a.createElement("u",null,"Forgot password?")))},l.a.createElement(A.a.Header,null,l.a.createElement(k.a,{name:"redo"}),"Password reset"),l.a.createElement(A.a.Content,null,l.a.createElement(A.a.Description,null,l.a.createElement(_.a,null,"Please enter your email:"),l.a.createElement(y.a,{style:{width:215}},l.a.createElement(I.a,{style:{marginBottom:20},type:"text",fluid:!0,placeholder:"Email...",name:"passwordReset",value:this.state.passwordReset,onChange:this.handleChange})),l.a.createElement(L.a,{style:{marginRight:33},onClick:function(){return e.setState({hideResetMessage:!0,passwordReset:"",openModal:!1})}},"Cancel"),l.a.createElement(L.a,{color:"green",onClick:function(){return e.sendResetEmail(e.state.passwordReset)}},"Confirm"),l.a.createElement(y.a,{style:{marginTop:20,width:215}},l.a.createElement(O.a,{style:{textAlign:"center",borderRadius:3},hidden:this.state.hideResetMessage,color:"red"},l.a.createElement(O.a.Header,null,this.state.message2)))))),l.a.createElement(L.a,{content:"Login",primary:!0,type:"submit"}))),l.a.createElement(O.a,{style:{textAlign:"center",borderRadius:3},hidden:this.state.hideMessage,color:this.state.messageColor},l.a.createElement(O.a.Header,null,this.state.message)))))}}]),t}(n.Component)),j=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,{style:{marginTop:50}},l.a.createElement(w.a,{size:"large"},l.a.createElement(_.a,{style:{textAlign:"center",fontSize:26}},"Welcome"),l.a.createElement("p",{style:{fontSize:18}},"This project was created to provide a dashboard that displays an individual patient\u2019s Motor Neuron Disease (MND) register record."),l.a.createElement("p",{style:{fontSize:18}},"The purpose of this website is to communicate understanding to domain analysts of an agreed prediction model used by clinicians to predict survival in patients with Motor Neuron Disease."),l.a.createElement("p",{style:{fontSize:18}},"The approach to communicating this understanding is by:",l.a.createElement("li",null,"Displaying relevant parts of 15 Individuals\u2019 Motor Neuron Disease records. \u2013 Click on the MND Register section."),l.a.createElement("li",null,"Providing information and references about the MND prediction model. \u2013 Click on the About section."),l.a.createElement("li",null,"Explaining the different terminology used. \u2013 Click on the Terminology section.")),l.a.createElement("p",{style:{fontSize:18}},"This work is part of the Motor Neuron Disease Patient Data Platform (PDP) designed by teams from two Science Foundation Ireland (SFI) centres, ADAPT and Future Neuro. All information on this site has been validated by relevant members of the MND PDP project team.")))}}]),t}(n.Component),D=a(284),T=a(514),M=a(508),x=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,{fluid:!0},l.a.createElement(y.a,{fluid:!0,style:{textAlign:"center"}},l.a.createElement(O.a,{size:"small",color:"blue"},l.a.createElement(_.a,{size:"huge"},"The Prediction Model"))),l.a.createElement(y.a,{fluid:!0},l.a.createElement(D.a,{columns:3,centered:!0,padded:!0},l.a.createElement(D.a.Column,{style:{padding:0,minWidth:400}},l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0}},l.a.createElement(_.a,{style:{marginBottom:5}},"Purpose"),l.a.createElement("p",null,"Amyotrophic lateral sclerosis (ALS) is a relentlessly progressive, fatal motor neuron disease with a variable natural history. There are no accurate models that predict the disease course and outcomes, which complicates risk assessment and counselling for individual patients, stratification of patients for trials, and timing of interventions. This prediction model was aimed for predicting a composite survival endpoint for individual patients with ALS.")),l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0}},l.a.createElement(_.a,{style:{marginBottom:5}},"Creation"),l.a.createElement("p",null,"The prediction model was created using data that was collected from the largest ALS dataset in Europe between January 1st, 1992 and September 22nd, 2016 which included data from 11,475 patients. This data was collected from 14 specialised ALS centres accross Europe. It consists of clinical, cognitive and genetic information. The project was funded by the Netherlands ALS foundation.")),l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0}},l.a.createElement(_.a,{style:{marginBottom:5}},"Methods used"),l.a.createElement("p",null,"The 16 patient characteristics were assessed as potential predictors of a composite survival outcome. Backward elimination with bootstrapping was used to select these predictors. Data from the 14 ALS centres were combined using the internal\u2013external cross-validation framework. This developed a model for predicting the composite survival endpoint in all but one centre, after which its external validity was evaluated in the omitted centre."))),l.a.createElement(D.a.Column,{style:{padding:0,minWidth:400}},l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0,paddingBottom:63}},l.a.createElement(_.a,{style:{marginBottom:5}},"Output"),l.a.createElement("p",null,"The prediction model outputs the median predicted survival time for a patient in months. There are five groups associated with the median survival times:"),l.a.createElement(T.a,{ordered:!0,style:{marginTop:10}},l.a.createElement(T.a.Item,null,"Very short (17.7 months)."),l.a.createElement(T.a.Item,null,"Short (25.3 months)."),l.a.createElement(T.a.Item,null,"Intermediate (23.3 months)."),l.a.createElement(T.a.Item,null,"Long (43.7 months)."),l.a.createElement(T.a.Item,null,"Very long (91 months)."))),l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0}},l.a.createElement(_.a,{style:{marginBottom:10}},"Specialised ALS centres"),l.a.createElement(T.a,{bulleted:!0,style:{marginTop:0}},l.a.createElement(T.a.Item,null,"Leuven, Belgium."),l.a.createElement(T.a.Item,null,"Limoges, France."),l.a.createElement(T.a.Item,null,"Tours, France."),l.a.createElement(T.a.Item,null,"Hannover, Germany."),l.a.createElement(T.a.Item,null,"Jena, Germany."),l.a.createElement(T.a.Item,null,"Dublin, Ireland."),l.a.createElement(T.a.Item,null,"Torino, Italy."),l.a.createElement(T.a.Item,null,"Utrecht, Netherlands."),l.a.createElement(T.a.Item,null,"Lisbon, Portugal."),l.a.createElement(T.a.Item,null,"St Gallen, Switzerland."),l.a.createElement(T.a.Item,null,"London, UK."),l.a.createElement(T.a.Item,null,"Sheffield, UK."),l.a.createElement(T.a.Item,null,"Oxford, UK.")))),l.a.createElement(D.a.Column,{style:{padding:0,minWidth:400}},l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0}},l.a.createElement(_.a,{style:{marginBottom:10}},"Data items used in prediction model (8)"),l.a.createElement(T.a,{bulleted:!0,style:{marginTop:0}},l.a.createElement(T.a.Item,null,"Bulbar versus non bulbar onset."),l.a.createElement(T.a.Item,null,"Age at onset."),l.a.createElement(T.a.Item,null,"Definite versus probable or possible ALS."),l.a.createElement(T.a.Item,null,"Diagnostic delay."),l.a.createElement(T.a.Item,null,"Forced vital capacity."),l.a.createElement(T.a.Item,null,"Progression rate."),l.a.createElement(T.a.Item,null,"Frontotemporal dementia."),l.a.createElement(T.a.Item,null,"Presence of C9orf72 repeat expansion."))),l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0,paddingBottom:113}},l.a.createElement(_.a,{style:{marginBottom:5}},"Patient characteristics (16)"),l.a.createElement("p",null,l.a.createElement("b",null,"Clinical:")," sex, site at onset, age at onset, revised El Escorial criteria, diagnostic delay, forced vital capacity (FVC), progression rate defined by the slope on the revised ALS Functional Rating Scale (ALSFRS-R), premorbid body-mass index (BMI), current smoking and cigarette pack-years."),l.a.createElement("p",null,l.a.createElement("b",null,"Cognitive:")," presence of frontotemporal dementia, scores on the verbal fluency index, the Frontal Assessment Battery, ALS Frontotemporal Dementia Questionnaire (ALSFTD-Q)"),l.a.createElement("p",null,l.a.createElement("b",null,"Genetic:")," presence of a C9orf72 mutation and presence of the minor allele homozygous genotype (C/C) of the UNC13A single nucleotide polymorphism.")))),l.a.createElement(w.a,{size:"large",style:{paddingLeft:25,borderRadius:0,margin:0}},l.a.createElement(_.a,{style:{marginBottom:5}},"Differences between ALS data registers"),l.a.createElement(T.a,{ordered:!0,style:{marginTop:10}},l.a.createElement(T.a.Item,null,"Some registers are population based registers and some are referral based registers. The centres in Ireland, Italy and The Netherlands use a population based register and the rest of the centres use a referral based register."),l.a.createElement(T.a.Item,null,"Ireland uses SNIP and the other centres use FVC. SNIP is correlated with FVC."),l.a.createElement(T.a.Item,null,"The centre in Oxford uses ALSFRS and the other centres use ALSFRS-R.")),l.a.createElement(M.a,null),l.a.createElement("p",null,"Reference:"," ",l.a.createElement("a",{href:"https://www.thelancet.com/journals/laneur/article/PIIS1474-4422(18)30089-9/fulltext",target:"_blank",rel:"noopener noreferrer"},"https://www.thelancet.com/journals/laneur/article/PIIS1474-4422(18)30089-9/fulltext")))))}}]),t}(n.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,{style:{marginTop:50}},l.a.createElement(w.a,{size:"large"},l.a.createElement(_.a,{style:{textAlign:"center",fontSize:26}},"Terminology"),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Rare disease "),"\u2013 A rare disease is defined as a disease that affects a very small portion of the population."," "),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Motor Neuron Disease (MND)")," \u2013 A progressive rare disease that attacks the body's motor neurones located in the central nervous system."),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Amyotrophic lateral sclerosis (ALS)")," \u2013 A type of MND that is progressive, debilitating and neurodegenerative with a life expectancy of three to five years."),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"ALS Functional Rating Scale - Revised (ALSFRS-R)")," \u2013 A rating scale designed to quantify the progression of ALS as rated by the patient."),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"El Escorial")," \u2013 A criteria used for the diagnosis of ALS (definite vs probable or possible ALS)."),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"C9orf72 Repeat Expansion")," \u2013 A hexanucleotide repeat expansions in the chromosome 9 open reading frame 72 gene."),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"SNIP")," \u2013 Sniff nasal inspiratory pressure."),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"FVC")," \u2013 Forced vital capacity.")))}}]),t}(n.Component),z=a(509),H=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).onchange=function(t){return e.setState({search:t.target.value})},e.sortBy=e.sortBy.bind(Object(d.a)(e)),e.state={patients:[],clinic_visit:[],isLoading:!0,isLowest:!0,alphabetStart:!0,lastVisit:!0,sortBy:"",search:""},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.database().ref("clinical_data").on("value",(function(t){var a=[];t.forEach((function(e){a.push(e.val())})),e.setState({patients:a})})),b.database().ref("Clinical Visit Data").on("value",(function(t){var a=[];t.forEach((function(e){a.push(e.val())})),e.setState({clinic_visit:a,isLoading:!1})}))}},{key:"getClinicalInfo",value:function(e,t){for(var a=[],n=[],l=0;l<this.state.clinic_visit.length;l++)this.state.clinic_visit[l].undefined===e["Sample ID"]&&(n.push(this.state.clinic_visit[l]["Clinical visit date"]),void 0!==this.state.clinic_visit[l].Total&&a.push(this.state.clinic_visit[l].Total));return"date"===t?(n.sort((function(e,t){var a=e.split("/").reverse().join(),n=t.split("/").reverse().join();return a>n?-1:a<n?1:0})),n[0]):a.length>0?Math.min.apply(Math,a):"No record"}},{key:"sortBy",value:function(e,t){if("alphabetical"===e)"start"===t?(this.setState({alphabetStart:!1}),this.state.patients.sort((function(e,t){var a=e["Sample ID"].split(" "),n=t["Sample ID"].split(" "),l=a[a.length-1],i=n[n.length-1];return l<i?-1:l>i?1:0}))):(this.setState({alphabetStart:!0}),this.state.patients.sort((function(e,t){var a=e["Sample ID"].split(" "),n=t["Sample ID"].split(" "),l=a[a.length-1],i=n[n.length-1];return l>i?-1:l<i?1:0})));else{for(var a=0;a<this.state.patients.length;a++)for(var n=0;n<this.state.clinic_visit.length;n++)this.state.clinic_visit[n].undefined===this.state.patients[a]["Sample ID"]&&(void 0!==this.state.clinic_visit[n].Total&&(this.state.patients[a].Total=parseInt(this.state.clinic_visit[n].Total)),this.state.patients[a].Visit=this.state.clinic_visit[n]["Clinical visit date"]);if("visit"===e)"oldest"===t?(this.setState({lastVisit:!1}),this.state.patients.sort((function(e,t){var a=e.Visit.split("/").reverse().join(),n=t.Visit.split("/").reverse().join();return a<n?-1:a>n?1:0}))):(this.setState({lastVisit:!0}),this.state.patients.sort((function(e,t){var a=e.Visit.split("/").reverse().join(),n=t.Visit.split("/").reverse().join();return a>n?-1:a<n?1:0})));else if("ALSFRS-R"===e){for(var l=[],i=[],r=0;r<this.state.patients.length;r++)void 0===this.state.patients[r].Total?l.push(this.state.patients[r]):i.push(this.state.patients[r]);"lowest"===t?(this.setState({isLowest:!1}),i.sort((function(e,t){return e.Total-t.Total}))):(this.setState({isLowest:!0}),i.sort((function(e,t){return t.Total-e.Total}))),i=i.concat(l),this.setState({patients:i})}this.state.patients.forEach((function(e){delete e.Visit,delete e.Total}))}}},{key:"updateSearch",value:function(e){this.setState({search:e.target.value.substr(0,20)})}},{key:"render",value:function(){var e=this,t=this.state.patients.filter((function(t){return-1!==t["Sample ID"].toLowerCase().indexOf(e.state.search.toLowerCase())}));return l.a.createElement(y.a,null,l.a.createElement(D.a,{style:{marginTop:10}},l.a.createElement(D.a.Column,{width:3}),l.a.createElement(D.a.Column,{width:10},l.a.createElement(I.a,{type:"text",fluid:!0,size:"big",icon:"search",placeholder:"Search patient...",value:this.state.search,onChange:this.updateSearch.bind(this)}))),l.a.createElement(D.a,{style:{marginTop:5}},l.a.createElement(D.a.Column,{width:3}),l.a.createElement(D.a.Column,{width:4},this.state.isLowest?l.a.createElement("h4",null,l.a.createElement("a",{href:"#ALSFRS-R",onClick:function(){return e.sortBy("ALSFRS-R","lowest")}},l.a.createElement("u",null,"Order by lowest ALSFRS-R Total")," ",l.a.createElement(k.a,{name:"arrow down"}))):l.a.createElement("h4",null,l.a.createElement("a",{href:"#ALSFRS-R",onClick:function(){return e.sortBy("ALSFRS-R","highest")}},l.a.createElement("u",null,"Order by highest ALSFRS-R Total"),l.a.createElement(k.a,{name:"arrow up"})))),l.a.createElement(D.a.Column,{width:2,style:{marginLeft:18,marginRight:47}},this.state.alphabetStart?l.a.createElement("h4",null,l.a.createElement("a",{href:"#alphabetical",onClick:function(){return e.sortBy("alphabetical","start")}},l.a.createElement(k.a,{name:"sort alphabet down"}),l.a.createElement("u",null,"Order A-Z"))):l.a.createElement("h4",null,l.a.createElement("a",{href:"#alphabetical",onClick:function(){return e.sortBy("alphabetical","end")}},l.a.createElement(k.a,{name:"sort alphabet up"}),l.a.createElement("u",null,"Order Z-A")))),l.a.createElement(D.a.Column,{width:4},this.state.lastVisit?l.a.createElement("h4",null,l.a.createElement("a",{href:"#clinic_visit",onClick:function(){return e.sortBy("visit","oldest")}},l.a.createElement("u",null,"Order by oldest clinic visit"),l.a.createElement(k.a,{name:"sort numeric down"}))):l.a.createElement("h4",null,l.a.createElement("a",{href:"#clinic_visit",onClick:function(){return e.sortBy("visit","latest")}},l.a.createElement("u",null,"Order by lastest clinic visit")," ",l.a.createElement(k.a,{name:"sort numeric up"}))))),l.a.createElement("p",{style:{marginBottom:0,marginTop:20,fontSize:18}},"No. of patients: ",this.state.patients.length),l.a.createElement(M.a,{style:{marginTop:0}}),this.state.isLoading?l.a.createElement(y.a,{fluid:!0},l.a.createElement(z.a,{active:!0,size:"massive"},"Loading...")):l.a.createElement(y.a,{fluid:!0},l.a.createElement(D.a,{centered:!0},t.map((function(t,a){return l.a.createElement("ul",{key:a},l.a.createElement(s.b,{to:{pathname:"/patient/"+t["Sample ID"],data:{user:t,clinic:e.state.clinic_visit}}},l.a.createElement("div",{className:"ui centered cards"},l.a.createElement("div",{className:"ui card"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"header"},l.a.createElement("i",{"aria-hidden":"true",className:"user icon"}),t["Sample ID"]),l.a.createElement("br",null),l.a.createElement("div",{style:{color:"black"}},"Last clinic visit:"," ",e.getClinicalInfo(t,"date"))),l.a.createElement("div",{className:"extra content"},l.a.createElement("p",{style:{color:"#4283ca"}},l.a.createElement("i",{className:"clipboard list icon"}),"ALSFRS-R Total:"," ",e.getClinicalInfo(t,"alsfrsr")))))))})))))}}]),t}(n.Component),W=a(517),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={clinic_data:a.props.data},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getTotalScore",value:function(){for(var e=[],t=0;t<this.state.clinic_data.length;t++)void 0!==this.state.clinic_data[t].Total&&e.push(this.state.clinic_data[t].Total);return e.length>0?e[0]<e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow down",color:"red"})):e[0]>e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow up",color:"green"})):e[0]===e[1]?l.a.createElement("div",null,e[0],"-"):e[0]:"-"}},{key:"getBulbarScore",value:function(){for(var e=[],t=0;t<this.state.clinic_data.length;t++){var a=[];if(void 0===this.state.clinic_data[t].Total);else{void 0!==this.state.clinic_data[t]["ALSFRS 1 Speech"]&&a.push(this.state.clinic_data[t]["ALSFRS 1 Speech"]),void 0!==this.state.clinic_data[t]["ALSFRS 2 Salivation"]&&a.push(this.state.clinic_data[t]["ALSFRS 2 Salivation"]),void 0!==this.state.clinic_data[t]["ALSFRS 3 Swallowing"]&&a.push(this.state.clinic_data[t]["ALSFRS 3 Swallowing"]);for(var n=0,i=0;i<a.length;i++)n+=parseInt(a[i]);e.push(n)}}return e.length>0?e[0]<e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow down",color:"red"})):e[0]>e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow up",color:"green"})):e[0]===e[1]?l.a.createElement("div",null,e[0],"-"):e[0]:"-"}},{key:"getMotorScore",value:function(){for(var e=[],t=0;t<this.state.clinic_data.length;t++){var a=[];if(void 0===this.state.clinic_data[t].Total);else{void 0!==this.state.clinic_data[t]["ALSFRS 4 Handwriting"]&&a.push(this.state.clinic_data[t]["ALSFRS 4 Handwriting"]),void 0!==this.state.clinic_data[t]["ALSFRS 5a Utensils Handling No Gastrostomy"]&&a.push(this.state.clinic_data[t]["ALSFRS 5a Utensils Handling No Gastrostomy"]),void 0!==this.state.clinic_data[t]["ALSFRS 5b Utensils Handling Gastrostomy"]&&a.push(this.state.clinic_data[t]["ALSFRS 5b Utensils Handling Gastrostomy"]),void 0!==this.state.clinic_data[t]["ALSFRS 6 Dressing and hygiene"]&&a.push(this.state.clinic_data[t]["ALSFRS 6 Dressing and hygiene"]),void 0!==this.state.clinic_data[t]["ALSFRS 7 Turning in bed and adjusting bed clothes"]&&a.push(this.state.clinic_data[t]["ALSFRS 7 Turning in bed and adjusting bed clothes"]),void 0!==this.state.clinic_data[t]["ALSFRS 8 Walking"]&&a.push(this.state.clinic_data[t]["ALSFRS 8 Walking"]),void 0!==this.state.clinic_data[t]["ALSFRS 9 Climbing stairs"]&&a.push(this.state.clinic_data[t]["ALSFRS 9 Climbing stairs"]);for(var n=0,i=0;i<a.length;i++)n+=parseInt(a[i]);e.push(n)}}return e.length>0?e[0]<e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow down",color:"red"})):e[0]>e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow up",color:"green"})):e[0]===e[1]?l.a.createElement("div",null,e[0],"-"):e[0]:"-"}},{key:"getRespiratoryScore",value:function(){for(var e=[],t=0;t<this.state.clinic_data.length;t++){var a=[];if(void 0===this.state.clinic_data[t].Total);else{void 0!==this.state.clinic_data[t]["ALSFRS 10 Dyspnea"]&&a.push(this.state.clinic_data[t]["ALSFRS 10 Dyspnea"]),void 0!==this.state.clinic_data[t]["ALSFRS 11 Orthopnea"]&&a.push(this.state.clinic_data[t]["ALSFRS 11 Orthopnea"]),void 0!==this.state.clinic_data[t]["ALSFRS 12 Respiratory insufficiency"]&&a.push(this.state.clinic_data[t]["ALSFRS 12 Respiratory insufficiency"]);for(var n=0,i=0;i<a.length;i++)n+=parseInt(a[i]);e.push(n)}}return e.length>0?e[0]<e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow down",color:"red"})):e[0]>e[1]?l.a.createElement("div",null,e[0],l.a.createElement(k.a,{size:"tiny",name:"arrow up",color:"green"})):e[0]===e[1]?l.a.createElement("div",null,e[0],"-"):e[0]:"-"}},{key:"render",value:function(){return l.a.createElement(y.a,{className:"alsfrsr_scores"},l.a.createElement(_.a,{size:"huge"},"Latest ALSFRS-R score and Subscores"),l.a.createElement(w.a,null,l.a.createElement(D.a,{columns:4},l.a.createElement(D.a.Column,null,l.a.createElement(W.a,null,l.a.createElement(W.a.Label,null,"Total"),l.a.createElement(W.a.Value,null,this.getTotalScore()))),l.a.createElement(D.a.Column,null,l.a.createElement(W.a,null,l.a.createElement(W.a.Label,null,"Bulbar"),l.a.createElement(W.a.Value,null,this.getBulbarScore()))),l.a.createElement(D.a.Column,null,l.a.createElement(W.a,null,l.a.createElement(W.a.Label,null,"Motor"),l.a.createElement(W.a.Value,null,this.getMotorScore()))),l.a.createElement(D.a.Column,null,l.a.createElement(W.a,null,l.a.createElement(W.a.Label,null,"Respiratory"),l.a.createElement(W.a.Value,null,this.getRespiratoryScore()))))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={patient_data:a.props.data},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"checkOnsetSite",value:function(){return"Cognitive/Behavioural and Spinal"===this.state.patient_data["Site of onset"]?l.a.createElement("p",{style:{fontSize:16}},l.a.createElement("b",null,"Site of onset: "),this.state.patient_data["Site of onset"]):l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Site of onset: "),this.state.patient_data["Site of onset"])}},{key:"render",value:function(){return l.a.createElement(y.a,{fluid:!0,className:"patient-info"},l.a.createElement(_.a,{size:"huge",style:{textAlign:"center"}},this.state.patient_data["Sample ID"]),l.a.createElement(w.a,{size:"small"},l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Date of birth: "),this.state.patient_data.DOB),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Gender: "),this.state.patient_data.Gender),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Date of Onset: "),this.state.patient_data["Date of Onset"]),this.checkOnsetSite(),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"El Escorial: "),this.state.patient_data["El Escorial"]),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Date of Diagnosis: "),this.state.patient_data["Date of Diagnosis"]),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Onset To Diagnosis(months): ")," ",this.state.patient_data["Onset To Diagnosis(months)"]),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Onset To Death(months):")," ",this.state.patient_data["Onset To Death(months)"]),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Diagnosis to Death(months):")," ",this.state.patient_data["Diagnosis to Death(months)"]),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Date of Death: "),this.state.patient_data["Date of Death"]),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"Does the patient have dementia:")," ",this.state.patient_data["Does the patient have dementia?"]),l.a.createElement("p",{style:{fontSize:18}},l.a.createElement("b",null,"C9orf72 Repeat Expansion:")," ",this.state.patient_data["C9orf72 Repeat Expansion"])))}}]),t}(n.Component),U=a(513),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleKeyDown=function(e){e.key},a.toggleMedicineInput=a.toggleMedicineInput.bind(Object(d.a)(a)),a.toggleTrialInput=a.toggleTrialInput.bind(Object(d.a)(a)),a.addItem=a.addItem.bind(Object(d.a)(a)),a.handleMedicineInput=a.handleMedicineInput.bind(Object(d.a)(a)),a.handleTrialInput=a.handleTrialInput.bind(Object(d.a)(a)),a.state={patient_data:a.props.data,missing_info:[],medicine_list:[],trial_list:[],medicine_input:"",trial_input:"",isLoading:!0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getItems("medicine"),this.getItems("trial")}},{key:"getItems",value:function(e){var t=this,a=[];"medicine"===e?b.firestore().collection("medication").doc(this.state.patient_data["Sample ID"]).get().then((function(e){e.exists&&(null!==e.data().medicine||void 0!==e.data().medicine)?(a.push(e.data().medicine),t.setState({medicine_list:a})):(a.push([]),t.setState({medicine_list:a}))})):"trial"===e&&b.firestore().collection("medication").doc(this.state.patient_data["Sample ID"]).get().then((function(e){e.exists&&(null!==e.data().trial||void 0!==e.data().trial)?(a.push(e.data().trial),t.setState({trial_list:a,isLoading:!1})):(a.push([]),t.setState({trial_list:a,isLoading:!1}))}))}},{key:"displayItems",value:function(e){var t=this,a=[],n="";return"medicine"===e?(a=this.state.medicine_list[0],n="medicine"):"trial"===e&&(a=this.state.trial_list[0],n="trial"),void 0===a?void 0:a.map((function(e,a){return l.a.createElement(y.a,{style:{textAlign:"left"},key:a},l.a.createElement(T.a,{divided:!0},l.a.createElement(T.a.Item,null,l.a.createElement(T.a.Content,null,l.a.createElement("b",{style:{fontSize:15}},e),l.a.createElement(U.a,{inverted:!0,trigger:l.a.createElement(k.a,{style:{float:"right"},link:!0,name:"x",onClick:function(){t.deleteItem(e,n)}}),position:"bottom right"},"Are you sure you want to delete the ",n,": '",e,"'?"))),l.a.createElement(T.a.Item,null)))}))}},{key:"addItem",value:function(e,t){if(e.preventDefault(),"medicine"===t){var a=this.state.medicine_input;this.state.medicine_list[0].push(a);var n=[];this.state.medicine_list[0].forEach((function(e){n.push(e)})),""!==a&&b.firestore().collection("medication").doc(this.state.patient_data["Sample ID"]).set({medicine:n},{merge:!0})}else if("trial"===t){var l=this.state.trial_input;this.state.trial_list[0].push(l);var i=[];this.state.trial_list[0].forEach((function(e){i.push(e)})),""!==l&&b.firestore().collection("medication").doc(this.state.patient_data["Sample ID"]).set({trial:i},{merge:!0})}this.setState({toggleMedicineInput:!1,toggleTrialInput:!1,trial_input:"",medicine_input:""})}},{key:"deleteItem",value:function(e,t){var a;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=[],"medicine"!==t){n.next=8;break}return this.state.medicine_list[0].forEach((function(t){t!==e&&a.push(t)})),n.next=5,v.a.awrap(b.firestore().collection("medication").doc(this.state.patient_data["Sample ID"]).set({medicine:a},{merge:!0}));case 5:this.getItems("medicine"),n.next=9;break;case 8:"trial"===t&&(this.state.trial_list[0].forEach((function(t){t!==e&&a.push(t)})),b.firestore().collection("medication").doc(this.state.patient_data["Sample ID"]).set({trial:a},{merge:!0}),this.getItems("trial"));case 9:this.setState({openConfirm:!1});case 10:case"end":return n.stop()}}),null,this)}},{key:"handleMedicineInput",value:function(e){this.setState({medicine_input:e.target.value})}},{key:"handleTrialInput",value:function(e){this.setState({trial_input:e.target.value})}},{key:"toggleMedicineInput",value:function(e){"show"===e?this.setState({toggleMedicineInput:!0}):"close"===e&&this.setState({toggleMedicineInput:!1,medicine_input:""})}},{key:"toggleTrialInput",value:function(e){"show"===e?this.setState({toggleTrialInput:!0}):"close"===e&&this.setState({toggleTrialInput:!1,trial_input:""})}},{key:"render",value:function(){var e=this;return l.a.createElement(y.a,{className:"input-box"},l.a.createElement("h1",{className:"patientHeader"},"Medication details"),l.a.createElement(D.a,{columns:2},l.a.createElement(D.a.Column,null,l.a.createElement(w.a,null,l.a.createElement(_.a,{dividing:!0},l.a.createElement(_.a.Content,null,"Medicine")),l.a.createElement(y.a,{className:"row selection-area"},this.state.isLoading?l.a.createElement(y.a,{fluid:!0},l.a.createElement(z.a,{active:!0,size:"large"})):this.displayItems("medicine"),this.state.toggleMedicineInput?l.a.createElement(I.a,{icon:l.a.createElement(k.a,{name:"x",link:!0,onClick:function(){return e.toggleMedicineInput("close")}}),fluid:!0,placeholder:"Add...",onKeyPress:function(t){"Enter"===t.key&&e.addItem(t,"medicine")},value:this.state.medicine_input,onChange:this.handleMedicineInput,type:"text"}):null,l.a.createElement(k.a,{style:{marginTop:10},link:!0,circular:!0,name:"plus",onClick:function(){return e.toggleMedicineInput("show")}})))),l.a.createElement(D.a.Column,null,l.a.createElement(w.a,null,l.a.createElement(_.a,{dividing:!0},"Trials"),l.a.createElement(y.a,{className:"row selection-area"},this.state.isLoading?l.a.createElement(y.a,{fluid:!0},l.a.createElement(z.a,{active:!0,size:"large"})):this.displayItems("trial"),this.state.toggleTrialInput?l.a.createElement(I.a,{icon:l.a.createElement(k.a,{name:"x",link:!0,onClick:function(){return e.toggleTrialInput("close")}}),fluid:!0,placeholder:"Add...",onKeyPress:function(t){"Enter"===t.key&&e.addItem(t,"trial")},value:this.state.trial_input,onChange:this.handleTrialInput}):null,l.a.createElement(k.a,{style:{marginTop:10},link:!0,circular:!0,name:"plus",onClick:function(){return e.toggleTrialInput("show")}}))))))}}]),t}(n.Component),V=a(519),J=a(515),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={prev:"",index:1,undef:[],data:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"getUndefined",value:function(){if(void 0===this.props.data[0].Total)for(var e=0;e<this.props.data.length&&void 0===this.props.data[e].Total;e++)this.state.undef.push(this.props.data[e])}},{key:"getData",value:function(){this.state.data=[];var e=0;if(void 0===this.props.data[0].Total)for(var t=0;t<this.props.data.length;t++){if(void 0!==this.props.data[t].Total){for(var a=0;a<this.props.data.length-e;a++)this.state.data.push(this.props.data[a+e]);break}e++}else for(var n=0;n<this.props.data.length;n++)this.state.data.push(this.props.data[n])}},{key:"checkIfPrevUndefined",value:function(){void 0===this.state.prev&&this.state.index!==this.state.data.length-1&&(this.state.index=this.state.index+1,this.state.prev=this.state.data[this.state.index].Total,this.checkIfPrevUndefined())}},{key:"check_total",value:function(e){if(void 0!==e)return this.state.index===this.state.data.length?e:(this.state.index<this.state.data.length&&(this.state.prev=this.state.data[this.state.index].Total),void 0===this.state.prev&&this.checkIfPrevUndefined(),e===this.state.prev?(this.state.index=this.state.index+1,l.a.createElement("div",null,e," ",l.a.createElement(k.a,{name:"minus"}))):e<this.state.prev?(this.state.index=this.state.index+1,l.a.createElement("div",null,e,l.a.createElement(k.a,{name:"arrow down",color:"red"}))):e>this.state.prev?(this.state.index=this.state.index+1,l.a.createElement("div",null,e,l.a.createElement(k.a,{name:"arrow up",color:"green"}))):e)}},{key:"check_beumont_visit",value:function(e){return"TRUE"===e?l.a.createElement(k.a,{name:"checkmark",color:"green"}):l.a.createElement(k.a,{name:"x",color:"red"})}},{key:"printUndefined",value:function(){var e=this;return this.getUndefined(),this.state.undef.map((function(t,a){return l.a.createElement(J.a.Row,{style:{fontSize:16,backgroundColor:"#f2f2f2",fontWeight:"bold"},key:a},l.a.createElement(J.a.Cell,null,e.check_beumont_visit(t["Beaumont Hospital visit"])),l.a.createElement(J.a.Cell,null,t["Clinical visit date"]),l.a.createElement(J.a.Cell,null,t["SNIP(cm H2O)_Occluded Method"]),l.a.createElement(J.a.Cell,null,t.Total),l.a.createElement(J.a.Cell,null,t["ALSFRS 1 Speech"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 2 Salivation"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 3 Swallowing"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 4 Handwriting"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 5a Utensils Handling No Gastrostomy"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 5b Utensils Handling Gastrostomy"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 6 Dressing and hygiene"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 7 Turning in bed and adjusting bed clothes"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 8 Walking"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 9 Climbing stairs"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 10 Dyspnea"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 11 Orthopnea"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 12 Respiratory insufficiency"]))}))}},{key:"printData",value:function(){var e=this;return this.getData(),this.state.data.map((function(t,a){return l.a.createElement(J.a.Row,{style:{fontSize:16,backgroundColor:"#f2f2f2",fontWeight:"bold",borderTopColor:"red !important"},key:a},l.a.createElement(J.a.Cell,{style:{borderTop:"1 !important"}},e.check_beumont_visit(t["Beaumont Hospital visit"])),l.a.createElement(J.a.Cell,null,t["Clinical visit date"]),l.a.createElement(J.a.Cell,null,t["SNIP(cm H2O)_Occluded Method"]),l.a.createElement(J.a.Cell,null,e.check_total(t.Total)),l.a.createElement(J.a.Cell,null,t["ALSFRS 1 Speech"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 2 Salivation"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 3 Swallowing"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 4 Handwriting"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 5a Utensils Handling No Gastrostomy"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 5b Utensils Handling Gastrostomy"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 6 Dressing and hygiene"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 7 Turning in bed and adjusting bed clothes"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 8 Walking"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 9 Climbing stairs"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 10 Dyspnea"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 11 Orthopnea"]),l.a.createElement(J.a.Cell,null,t["ALSFRS 12 Respiratory insufficiency"]))}))}},{key:"render",value:function(){return l.a.createElement(J.a,{celled:!0,selectable:!0,textAlign:"center",size:"small"},l.a.createElement(J.a.Header,null,l.a.createElement(J.a.Row,{style:{fontSize:14}},l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white",width:110},rowSpan:"2"},"Beaumont Hospital visit"),l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white",width:110},rowSpan:"2"},"Clinical visit date"),l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white",width:150},rowSpan:"2"},"SNIP(cm H2O) Occluded Method"),l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white",borderBottomColor:"white"},colSpan:"14"},"ALSFRS-R")),l.a.createElement(J.a.Row,null,l.a.createElement(U.a,{position:"top center",content:"48 = Maximum score",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"Total/48")}),l.a.createElement(U.a,{position:"top center",content:"Speech",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"1")}),l.a.createElement(U.a,{position:"top center",content:"Salivation",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"2")}),l.a.createElement(U.a,{position:"top center",content:"Swallowing",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"3")}),l.a.createElement(U.a,{position:"top center",content:"Handwriting",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"4")}),l.a.createElement(U.a,{position:"top center",content:"Utensils Handling No Gastrostomy",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"5a")}),l.a.createElement(U.a,{position:"top center",content:"Utensils Handling Gastrostomy",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"5b")}),l.a.createElement(U.a,{position:"top center",content:"Dressing and hygiene",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"6")}),l.a.createElement(U.a,{position:"top center",content:"Turning in bed and adjusting bed clothes",inverted:!0,wide:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"7")}),l.a.createElement(U.a,{position:"top center",content:"Walking",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"8")}),l.a.createElement(U.a,{position:"top center",content:"Climbing stairs",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"9")}),l.a.createElement(U.a,{position:"top center",content:"Dyspnea",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"10")}),l.a.createElement(U.a,{position:"top center",content:"Orthopnea",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"11")}),l.a.createElement(U.a,{position:"top center",content:"Respiratory insufficiency",inverted:!0,trigger:l.a.createElement(J.a.HeaderCell,{style:{backgroundColor:"rgb(29,110,197)",fontWeight:"bold",color:"white"}},"12")}))),l.a.createElement(J.a.Body,null,this.printUndefined(),this.printData()))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={open:!1},a.open=function(){return a.setState({open:!0})},a.close=function(){return a.setState({open:!1})},a.state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"checkContent",value:function(){var e=this.props.number;return"1"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal speech process.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Detectable speech disturbance.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Intelligible with repeating.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Speech combined withnon-vocal communication.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Loss of useful speech."):"2"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Slight but definite excess of saliva in mouth; may have night time drooling.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Moderately excessive saliva; may have minimal drooling.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Marked excess of saliva with some drooling.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Marked drooling."):"3"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal eating habits.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Early eating problems \u2013 occasional choking.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Dietary consistency changes.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Needs supplemental tube feeding.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," NPO (nothing by mouth)."):"4"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Slow or sloppy: all words are legible.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Not all words are legible.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," No words are legible, but can still grip pen.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Unable to grip pen."):"5a"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Somewhat slow and clumsy, but no help needed.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Can cut most foods, although slow and clumsy; some help needed.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Food must be cut by someone, but can still feed slowly.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Needs to be fed."):"5b"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Clumsy, but able to perform all manipulations independently.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Some help needed with closures and fasteners.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Provides minimal assistance to caregiver.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Unable to perform any aspect of task."):"6"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal function.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Independent; Can complete self-care with effort or decreased efficiency.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Intermittent assistance or substitute methods.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Needs attendant for self-care.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Total dependence."):"7"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal function.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Somewhat slow and clumsy, but no help needed.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Can turn alone, or adjust sheets, but with great difficulty.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Can initiate, but not turn or adjust sheets alone.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Helpless."):"8"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Early ambulation difficulties.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Walks with assistance.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Non-ambulatory functional movement only.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," No purposeful leg movement."):"9"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," Normal.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Slow.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Mild unsteadiness or fatigue.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Needs assistance.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Cannot do."):"10"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," None.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Occurs when walking.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Occurs with one or more of the following: eating, bathing, dressing.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Occurs at rest: difficulty breathing when either sitting or lying.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Significant difficulty: considering using mechanical respiratory support."):"11"===e?l.a.createElement("p",null,l.a.createElement("b",null,"Score 4:")," None.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Some difficulty sleeping at night due to shortness of breath, does not routinely use more than two pillows.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Needs extra pillows in order to sleep (more than two).",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Can only sleep sitting up.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Unable to sleep without mechanical assistance."):"12"===e?l.a.createElement("p",null,l.a.createElement("b",null,"BiPAP = Bilevel Positive Airway Pressure."),l.a.createElement("br",null),l.a.createElement("b",null,"Score 4:")," None.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 3:")," Intermittent use of BiPAP.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 2:")," Continuous use of BiPAP during the night.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 1:")," Continuous use of BiPAP during day.",l.a.createElement("br",null),l.a.createElement("b",null,"Score 0:")," Invasive mechanical ventilation by intubation or tracheostomy."):void 0}},{key:"render",value:function(){return l.a.createElement(U.a,{trigger:l.a.createElement(k.a,{name:"info circle",style:{marginLeft:10}}),wide:"very",content:this.checkContent(this.props.number),position:"right center",hoverable:!0})}}]),t}(n.Component),Z=a(73),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={visit_data:a.props.data,scores:[],visitDate:[],totalMax:null,totalStepSize:null},"total"===a.props.type?(a.state.totalMax=48,a.state.totalStepSize=12,a.getTotalScores()):"motor"===a.props.type?(a.state.totalMax=24,a.state.totalStepSize=6,a.getMotorScores()):"bulbar"===a.props.type?(a.state.totalMax=12,a.state.totalStepSize=3,a.getBulbarScores()):"respiratory"===a.props.type&&(a.state.totalMax=12,a.state.totalStepSize=3,a.getRespiratoryScores()),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getTotalScores",value:function(){for(var e=0;e<this.state.visit_data.length;e++)void 0!==this.state.visit_data[e].Total&&(this.state.scores.push(this.state.visit_data[e].Total),this.state.visitDate.push(this.state.visit_data[e]["Clinical visit date"]))}},{key:"getBulbarScores",value:function(){for(var e=0;e<this.state.visit_data.length;e++){var t=[];if(void 0===this.state.visit_data[e].Total);else{void 0!==this.state.visit_data[e]["ALSFRS 1 Speech"]&&t.push(this.state.visit_data[e]["ALSFRS 1 Speech"]),void 0!==this.state.visit_data[e]["ALSFRS 2 Salivation"]&&t.push(this.state.visit_data[e]["ALSFRS 2 Salivation"]),void 0!==this.state.visit_data[e]["ALSFRS 3 Swallowing"]&&t.push(this.state.visit_data[e]["ALSFRS 3 Swallowing"]);for(var a=0,n=0;n<t.length;n++)a+=parseInt(t[n]);this.state.scores.push(a),this.state.visitDate.push(this.state.visit_data[e]["Clinical visit date"])}}}},{key:"getMotorScores",value:function(){for(var e=0;e<this.state.visit_data.length;e++){var t=[];if(void 0===this.state.visit_data[e].Total);else{void 0!==this.state.visit_data[e]["ALSFRS 4 Handwriting"]&&t.push(this.state.visit_data[e]["ALSFRS 4 Handwriting"]),void 0!==this.state.visit_data[e]["ALSFRS 5a Utensils Handling No Gastrostomy"]&&t.push(this.state.visit_data[e]["ALSFRS 5a Utensils Handling No Gastrostomy"]),void 0!==this.state.visit_data[e]["ALSFRS 5b Utensils Handling Gastrostomy"]&&t.push(this.state.visit_data[e]["ALSFRS 5b Utensils Handling Gastrostomy"]),void 0!==this.state.visit_data[e]["ALSFRS 6 Dressing and hygiene"]&&t.push(this.state.visit_data[e]["ALSFRS 6 Dressing and hygiene"]),void 0!==this.state.visit_data[e]["ALSFRS 7 Turning in bed and adjusting bed clothes"]&&t.push(this.state.visit_data[e]["ALSFRS 7 Turning in bed and adjusting bed clothes"]),void 0!==this.state.visit_data[e]["ALSFRS 8 Walking"]&&t.push(this.state.visit_data[e]["ALSFRS 8 Walking"]),void 0!==this.state.visit_data[e]["ALSFRS 9 Climbing stairs"]&&t.push(this.state.visit_data[e]["ALSFRS 9 Climbing stairs"]);for(var a=0,n=0;n<t.length;n++)a+=parseInt(t[n]);this.state.scores.push(a),this.state.visitDate.push(this.state.visit_data[e]["Clinical visit date"])}}}},{key:"getRespiratoryScores",value:function(){for(var e=0;e<this.state.visit_data.length;e++){var t=[];if(void 0===this.state.visit_data[e].Total);else{void 0!==this.state.visit_data[e]["ALSFRS 10 Dyspnea"]&&t.push(this.state.visit_data[e]["ALSFRS 10 Dyspnea"]),void 0!==this.state.visit_data[e]["ALSFRS 11 Orthopnea"]&&t.push(this.state.visit_data[e]["ALSFRS 11 Orthopnea"]),void 0!==this.state.visit_data[e]["ALSFRS 12 Respiratory insufficiency"]&&t.push(this.state.visit_data[e]["ALSFRS 12 Respiratory insufficiency"]);for(var a=0,n=0;n<t.length;n++)a+=parseInt(t[n]);this.state.scores.push(a),this.state.visitDate.push(this.state.visit_data[e]["Clinical visit date"])}}}},{key:"render",value:function(){return l.a.createElement("div",{className:"LineChart"},l.a.createElement(Z.c,{data:{labels:this.state.visitDate.reverse(),datasets:[{fill:!1,lineTension:.5,backgroundColor:"white",borderColor:"rgba(54, 162, 235, 0.7)",borderWidth:3,data:this.state.scores.reverse()}]},height:375,options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"ALSFRS-R",fontSize:18},ticks:{max:this.state.totalMax,stepSize:this.state.totalStepSize,beginAtZero:!0}}],xAxes:[{scaleLabel:{display:!0,labelString:"Clinic visit date",fontSize:18},ticks:{scaleStepWidth:20,scaleStartValue:0,autoSkip:!1,maxRotation:40,minRotation:40}}]},legend:{display:!1},maintainAspectRatio:!1}}))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={openModal:!1},a.openModal=function(){return a.setState({openModal:!0})},a.closeModal=function(){return a.setState({openModal:!1})},a.state={userID:a.props.id,clinic_data:a.props.data},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.openModal,a=[{menuItem:{content:"Table",icon:"table",key:"table"},render:function(){return l.a.createElement(V.a.Pane,null,l.a.createElement(K,{data:e.state.clinic_data}))}},{menuItem:{content:"Graphs",icon:"line graph",key:"graphs"},render:function(){return l.a.createElement(V.a.Pane,null,l.a.createElement(y.a,{fluid:!0,className:"tableLegend"},l.a.createElement(D.a,{columns:2,celled:!0},l.a.createElement(D.a.Row,{style:{padding:0}},l.a.createElement(D.a.Column,{style:{minWidth:400}},l.a.createElement("h2",{style:{textAlign:"center"}},"Total ALSFRS-R"),l.a.createElement(Q,{data:e.state.clinic_data,type:"total"})),l.a.createElement(D.a.Column,{divided:"true",style:{minWidth:400}},l.a.createElement("h2",{style:{textAlign:"center"}},"ALSFRS-R Bulbar Subscore (1-3)"),l.a.createElement(Q,{data:e.state.clinic_data,type:"bulbar"}))),l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Column,{style:{minWidth:400}},l.a.createElement("h2",{style:{textAlign:"center"}},"ALSFRS-R Motor Subscore (4-9)"),l.a.createElement(Q,{data:e.state.clinic_data,type:"motor"})),l.a.createElement(D.a.Column,{style:{minWidth:400}},l.a.createElement("h2",{style:{textAlign:"center"}},"ALSFRS-R Respiratory Subscore (10-12)"),l.a.createElement(Q,{data:e.state.clinic_data,type:"respiratory"}))))))}},{menuItem:{content:"Information",icon:"info circle",key:"info"},render:function(){return l.a.createElement(V.a.Pane,null,l.a.createElement(y.a,{fluid:!0,className:"tableLegend"},l.a.createElement(D.a,{columns:2},l.a.createElement(D.a.Column,{style:{minWidth:400}},l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 1")," = Speech ",l.a.createElement(q,{number:"1"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 2")," = Salivation ",l.a.createElement(q,{number:"2"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 3")," = Swallowing ",l.a.createElement(q,{number:"3"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 4")," = Handwriting",l.a.createElement(q,{number:"4"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 5a")," = Utensils Handling No Gastrostomy",l.a.createElement(q,{number:"5a"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 5b")," = Utensils Handling Gastrostomy",l.a.createElement(q,{number:"5b"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 6")," = Dressing and hygiene"," ",l.a.createElement(q,{number:"6"}))),l.a.createElement(D.a.Column,{style:{minWidth:400}},l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 7")," = Turning in bed and adjusting bed clothes",l.a.createElement(q,{number:"7"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 8")," = Walking ",l.a.createElement(q,{number:"8"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 9")," = Climbing stairs",l.a.createElement(q,{number:"9"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 10")," = Dyspnea ",l.a.createElement(q,{number:"10"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 11")," = Orthopnea",l.a.createElement(q,{number:"11"})),l.a.createElement("p",null,l.a.createElement("b",null,"ALSFRS-R 12")," = Respiratory insufficiency",l.a.createElement(q,{number:"12"})))),l.a.createElement(M.a,null),"Reference:"," ",l.a.createElement("a",{href:"https://www.encals.eu/wp-content/uploads/2016/09/ALSFRS-SOP-ENCALS-presentation.pdf",target:"_blank",rel:"noopener noreferrer"},"https://www.encals.eu/wp-content/uploads/2016/09/ALSFRS-SOP-ENCALS-presentation.pdf")))}}];return l.a.createElement(A.a,{size:"fullscreen",open:t,trigger:l.a.createElement(L.a,{color:"blue",fluid:!0,onClick:this.openModal},"Clinical visits"),centered:!1},l.a.createElement(A.a.Header,{style:{fontSize:25}},l.a.createElement(A.a.Actions,null,l.a.createElement(L.a,{icon:!0,color:"red",floated:"right",onClick:this.closeModal},l.a.createElement(k.a,{name:"close"}))),"Clinical visits: ",this.state.userID),l.a.createElement(V.a,{panes:a}))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={openModal:!1},a.openModal=function(){return a.setState({openModal:!0})},a.closeModal=function(){return a.setState({openModal:!1})},a.state={userID:a.props.id,missing_data:a.props.data,isMissing:a.props.state},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.openModal;return l.a.createElement(A.a,{centered:!1,open:e,trigger:l.a.createElement(L.a,{color:"red",fluid:!0,onClick:this.openModal},"Missing information")},l.a.createElement(A.a.Header,{style:{fontSize:25}},l.a.createElement(A.a.Actions,null,l.a.createElement(L.a,{icon:!0,color:"red",floated:"right",onClick:this.closeModal},l.a.createElement(k.a,{name:"close"}))),"Missing information: ",this.state.userID),l.a.createElement(A.a.Content,{scrolling:!0},l.a.createElement(A.a.Description,null,this.state.isMissing?l.a.createElement(y.a,null,this.state.missing_data.map((function(e,t){return l.a.createElement("h2",{style:{color:"red"},key:t},e," ")})),l.a.createElement(M.a,null),l.a.createElement("h5",null,"*If missing information is related to death (e.g. 'Date of Death'), the patient may still be alive.")):l.a.createElement("h3",null,"All information has been recorded."))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{isMissing:e.state}}}]),t}(n.Component),$=Z.a.controllers.doughnut.prototype.draw;Z.a.helpers.extend(Z.a.controllers.doughnut.prototype,{draw:function(){$.apply(this,arguments);var e=this.chart,t=e.chart.width,a=e.chart.height,n=e.chart.ctx,l=(a/114).toFixed(2);n.font=l+"em sans-serif",n.textBaseline="middle";var i=e.config.data.text,r=Math.round((t-n.measureText(i).width)/2),s=a-115;n.fillText(i,r,s)}});var ee=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,{className:"data-quality"},l.a.createElement(_.a,{size:"huge"},"Completeness of data"),l.a.createElement(w.a,null,l.a.createElement(y.a,{className:"DoughnutChart"},l.a.createElement(Z.b,{data:{labels:["Complete","Incomplete"],datasets:[{data:[Number(this.props.data).toFixed(0),Number(100-this.props.data).toFixed(0)],backgroundColor:["rgba(54, 162, 235, 0.7)","rgba(255, 255, 255, 0)"],borderColor:["rgba(72, 127, 202, 1)","rgba(72, 127, 202, 1)"],borderWidth:1}],text:Number(this.props.data).toFixed(0)+"%"},height:264,options:{maintainAspectRatio:!1}}))))}}]),t}(n.Component),te=a(281),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={patient_data:a.state=JSON.parse(localStorage.getItem("patient"))?JSON.parse(localStorage.getItem("patient")):e.location.data.user,clinic_visit_data:a.state=JSON.parse(localStorage.getItem("clinic"))?JSON.parse(localStorage.getItem("clinic")):e.location.data.clinic,single_clinic_data:[],missing_info:[],isMissing:!1,completness:0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.orderByLatestDate(),this.getMissingInfo(),this.getCompleteness(),te.animateScroll.scrollToBottom()}},{key:"UNSAFE_componentWillMount",value:function(){localStorage.getItem("patient_data")&&this.setState({patient_data:JSON.parse(localStorage.getItem("patient_data"))}),localStorage.getItem("clinic_visit_data")&&this.setState({clinic_visit_data:JSON.parse(localStorage.getItem("clinic_visit_data"))})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){localStorage.setItem("patient",JSON.stringify(t.patient_data)),localStorage.setItem("clinic",JSON.stringify(t.clinic_visit_data))}},{key:"componentWillUnmount",value:function(){localStorage.clear("patient","clinic")}},{key:"orderByLatestDate",value:function(){for(var e=0;e<this.state.clinic_visit_data.length;e++)this.state.clinic_visit_data[e].undefined===this.state.patient_data["Sample ID"]&&this.state.single_clinic_data.push(this.state.clinic_visit_data[e]);this.state.single_clinic_data.sort((function(e,t){var a=e["Clinical visit date"].split("/").reverse().join(),n=t["Clinical visit date"].split("/").reverse().join();return a>n?-1:a<n?1:0}))}},{key:"getCompleteness",value:function(){this.state.completness=Number((Object.entries(this.state.patient_data).length-this.state.missing_info.length)/Object.entries(this.state.patient_data).length*100).toFixed(1)}},{key:"getMissingInfo",value:function(){var e=this;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.awrap(Object.entries(this.state.patient_data).forEach((function(t){null!==t[1]&&""!==t[1]||e.state.missing_info.push(t[0])})));case 2:this.state.missing_info&&this.state.missing_info.length>0&&this.setState({isMissing:!0});case 3:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return l.a.createElement(y.a,{fluid:!0},l.a.createElement(y.a,{style:{width:"97%"}},l.a.createElement(D.a,{centered:!0,columns:2,style:{margin:0}},l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Column,{width:5,style:{minWidth:350}},l.a.createElement(P,{data:this.state.patient_data})),l.a.createElement(D.a.Column,{width:11,style:{minWidth:350}},l.a.createElement(D.a.Column,null,l.a.createElement(B,{data:this.state.single_clinic_data})),l.a.createElement(D.a,{columns:2},l.a.createElement(D.a.Column,{width:9},l.a.createElement(ee,{data:this.state.completness})),l.a.createElement(D.a.Column,{width:7,style:{minWidth:350}},l.a.createElement(G,{data:this.state.patient_data}))))))),l.a.createElement(y.a,{style:{width:"97%"},fluid:!0},l.a.createElement(D.a,{centered:!0,columns:2,style:{margin:0}},l.a.createElement(D.a.Column,{width:5,style:{minWidth:350}},l.a.createElement(y.a,{className:"button-box"},l.a.createElement(D.a,{columns:2},l.a.createElement(D.a.Column,null,l.a.createElement(X,{id:this.state.patient_data["Sample ID"],data:this.state.single_clinic_data})),l.a.createElement(D.a.Column,null,l.a.createElement(Y,{id:this.state.patient_data["Sample ID"],data:this.state.missing_info,state:this.state.isMissing}))))),l.a.createElement(D.a.Column,{width:11,style:{minWidth:350}},l.a.createElement(y.a,{className:"reference-box"},l.a.createElement("h3",null,"References*"))))))}}]),t}(n.Component),ne=a(283),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name,l=t.pagename;return a.setState({activeItem:n,activeName:l})},a.contextRef=Object(n.createRef)(),a.state={openModal:!1},a.openModal=function(){return a.setState({openModal:!0})},a.closeModal=function(){return a.setState({openModal:!1})},a.signOut=a.signOut.bind(Object(d.a)(a)),a.state={activeItem:"home",activeName:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){localStorage.getItem("activeItem")&&this.setState({activeItem:JSON.parse(localStorage.getItem("activeItem"))})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){localStorage.setItem("activeItem",JSON.stringify(t.activeItem))}},{key:"signOut",value:function(){localStorage.clear(),b.auth().signOut()}},{key:"render",value:function(){var e=this.state,t=e.activeItem,n=e.openModal;return l.a.createElement("nav",null,l.a.createElement(y.a,null,l.a.createElement("img",{style:{width:350,margin:10},src:a(493),alt:"Logo"}),l.a.createElement(y.a,null,l.a.createElement(ne.a,{pointing:!0,secondary:!0,size:"large",style:{alignItems:"center",justifyContent:"center"}},l.a.createElement(ne.a.Item,{as:s.b,to:"/",color:"blue",icon:"home",pagename:"Home",name:"home",active:"home"===t,onClick:this.handleItemClick}),l.a.createElement(ne.a.Item,{as:s.b,to:"/about",color:"blue",icon:"info",pagename:"About",name:"about",active:"about"===t,onClick:this.handleItemClick}),l.a.createElement(ne.a.Item,{as:s.b,to:"/terminology",color:"blue",icon:"list",pagename:"Terminology",name:"Terminology",active:"Terminology"===t,onClick:this.handleItemClick}),l.a.createElement(ne.a.Item,{as:s.b,to:"/MNDregister",color:"blue",icon:"database",pagename:"MND Register",name:"MND Register",active:"MND Register"===t,onClick:this.handleItemClick}),l.a.createElement(A.a,{open:n,trigger:l.a.createElement(ne.a.Item,{color:"blue",icon:"sign-out",pagename:"Logout",name:"logout",active:"logout"===t,onClick:this.openModal}),basic:!0,size:"small"},l.a.createElement(_.a,{icon:"sign-out",content:"Are you sure you want to logout?"}),l.a.createElement(A.a.Actions,null,l.a.createElement(L.a,{basic:!0,color:"red",inverted:!0,onClick:this.closeModal},l.a.createElement(k.a,{name:"remove"})," No"),l.a.createElement(L.a,{color:"green",inverted:!0,onClick:this.signOut},l.a.createElement(k.a,{name:"checkmark"})," Yes")))))))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).authListener=a.authListener.bind(Object(d.a)(a)),a.state={authUser:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){localStorage.getItem("authUser")&&this.setState({authUser:JSON.parse(localStorage.getItem("authUser"))})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){localStorage.setItem("authUser",JSON.stringify(t.authUser))}},{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;b.auth().onAuthStateChanged((function(t){t?(e.setState({authUser:t}),e.timeout=setTimeout((function(){e.setState({authUser:null}),b.auth().signOut()}),18e5)):(e.setState({authUser:null}),localStorage.clear())}))}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.authUser?l.a.createElement(p.b,null,l.a.createElement(p.a,{to:{pathname:this.props.location.pathname}}),l.a.createElement(le,null),l.a.createElement(p.b,{path:"/",exact:!0,component:j}),l.a.createElement(p.b,{path:"/about",component:x}),l.a.createElement(p.b,{path:"/terminology",component:N}),l.a.createElement(p.b,{path:"/MNDregister",component:H}),l.a.createElement(p.b,{path:"/patient",component:ae})):l.a.createElement(p.b,null,l.a.createElement(p.a,{to:{pathname:"/"}}),l.a.createElement(p.b,{path:"/",exact:!0,component:F})))}}]),t}(n.Component),re=Object(p.f)(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(s.a,null,l.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,a){}},[[293,1,2]]]);
//# sourceMappingURL=main.7c4de251.chunk.js.map